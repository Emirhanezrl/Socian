<div class="profile-setup-bg flex items-center justify-center min-h-screen py-8 px-2">
  <div class="profile-setup-card bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md relative border border-gray-100">
    <h2 class="text-2xl font-extrabold text-gray-900 mb-6 text-center tracking-tight">Profilinizi Kurun</h2>
    <form (ngSubmit)="saveProfile()" class="space-y-5">
      <div class="flex flex-col items-center gap-4 mb-2">
        <div class="relative">
          <img *ngIf="profilePhotoPreview; else defaultProfile" [src]="profilePhotoPreview" class="w-20 h-20 rounded-full object-cover border-2 border-primary shadow" />
          <ng-template #defaultProfile>
            <img src="https://randomuser.me/api/portraits/lego/1.jpg" class="w-20 h-20 rounded-full object-cover border-2 border-gray-200 shadow" />
          </ng-template>
          <label class="absolute bottom-0 right-0 bg-primary text-white rounded-full p-1 cursor-pointer shadow-lg hover:bg-blue-700 transition-colors">
            <i class="ri-upload-2-line text-lg"></i>
            <input type="file" accept="image/*" (change)="onProfilePhotoSelected($event)" class="hidden" />
          </label>
        </div>
        <div class="relative w-full">
          <img *ngIf="coverPhotoPreview; else defaultCover" [src]="coverPhotoPreview" class="w-full h-24 object-cover rounded-xl border border-primary shadow" />
          <ng-template #defaultCover>
            <img src="https://source.unsplash.com/800x300/?nature,forest" class="w-full h-24 object-cover rounded-xl border border-gray-200 shadow" />
          </ng-template>
          <label class="absolute bottom-2 right-2 bg-primary text-white rounded-full p-1 cursor-pointer shadow-lg hover:bg-blue-700 transition-colors">
            <i class="ri-upload-2-line text-lg"></i>
            <input type="file" accept="image/*" (change)="onCoverPhotoSelected($event)" class="hidden" />
          </label>
        </div>
      </div>
      <div>
        <label for="firstName" class="block text-sm font-semibold text-gray-700 mb-1">Ad</label>
        <input type="text" id="firstName" name="firstName" [(ngModel)]="firstName" required
               class="block w-full text-base text-gray-900 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 shadow-sm bg-gray-50 hover:bg-gray-100 placeholder-gray-400 px-4 py-2"
               placeholder="Adınızı girin">
      </div>
      <div>
        <label for="lastName" class="block text-sm font-semibold text-gray-700 mb-1">Soyad</label>
        <input type="text" id="lastName" name="lastName" [(ngModel)]="lastName" required
               class="block w-full text-base text-gray-900 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 shadow-sm bg-gray-50 hover:bg-gray-100 placeholder-gray-400 px-4 py-2"
               placeholder="Soyadınızı girin">
      </div>
      <div>
        <label for="username" class="block text-sm font-semibold text-gray-700 mb-1">Kullanıcı Adı</label>
        <div class="flex items-center mt-1">
          <span class="px-3 py-2 bg-gray-100 border border-gray-300 rounded-l-xl text-gray-500 select-none font-mono">&#64;</span>
          <input type="text" id="username" name="username" [(ngModel)]="username" required
                 class="block w-full text-base text-gray-900 border border-gray-300 rounded-r-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 shadow-sm bg-gray-50 hover:bg-gray-100 placeholder-gray-400 px-4 py-2"
                 placeholder="kullaniciadi">
        </div>
      </div>
      <div>
        <label for="biography" class="block text-sm font-semibold text-gray-700 mb-1">Biyografi</label>
        <textarea id="biography" [(ngModel)]="biography" name="biography" rows="3"
                  class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-base bg-gray-50 hover:bg-gray-100 transition-all duration-200 placeholder-gray-400 resize-none"></textarea>
      </div>
      <button type="submit"
              class="w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-lg font-semibold text-white bg-primary hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-200 tracking-wide">
        Profili Kaydet
      </button>
    </form>
    <p *ngIf="successMessage" class="mt-4 text-center text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg py-2 px-4">{{ successMessage }}</p>
    <p *ngIf="errorMessage" class="mt-2 text-center text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg py-2 px-4">{{ errorMessage }}</p>
  </div>
</div> 